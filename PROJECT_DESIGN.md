# プロジェクト詳細設計 - AiKen (eiken-app)

このファイルには、AiKen Web アプリの詳細設計（ドメインモデル、画面設計、API 設計など）を記述しています。

---

## 1. プロジェクト概要

**AiKen**（アイケン）は、英検対策に特化した学習プラットフォームです。

- **技術スタック**: Next.js 14, Supabase, OpenAI GPT-4o
- **対象級**: 英検5級〜1級
- **主要機能**: 単語学習（SRS）、ライティング（AI添削）、リーディング、リスニング、スピーキング

---

## 2. ブランディング

| 項目 | 値 |
|------|-----|
| **サービス名** | AiKen（読み: アイケン） |
| **キーカラー** | `#50c2cb`（ティール系の青） |
| **ロゴ** | `/public/logo-aiken.png`（マスコット＋テキスト） |

- ボタン・リンク・アクセントにキーカラーを統一
- Tailwind の `brand` パレット（50〜900）をキーカラー基準で定義

---

## 3. 実装済み機能一覧

### 3.1 認証

- Supabase Auth（メール/パスワード、Google OAuth）
- プロフィール（表示名、目標級、アバター、試験日）

### 3.2 学習モジュール

| モジュール | 説明 | 対応級 |
|------------|------|--------|
| **単語** | フラッシュカード、SRS | 5級〜1級 |
| **ライティング** | 英作文・Eメール・要約、AI添削 | 3級〜1級 |
| **リーディング** | 長文読解・要約 | 2級〜1級 |
| **リスニング** | 音声教材（4級・5級は非表示） | 3級〜1級 |
| **スピーキング** | 面接ロールプレイ（4級・5級は非表示） | 3級〜1級 |

### 3.3 ライティング形式

| 形式 | 対応級 | 語数 | 備考 |
|------|--------|------|------|
| **英作文** | 3級〜1級 | 25〜240語（級による） | 2024年度以降 |
| **Eメール** | 3級・準2級 | 15〜50語 | 3級・準2級のみ |
| **要約** | 2級・準1級・1級 | 45〜110語（級による） | 2024年度から新設 |

### 3.4 管理画面

- ユーザー一覧・詳細・編集
- ライティング問題 CRUD（essay / email / summary）
- 単語 CRUD
- アバター・背景画像の管理

---

## 4. ルーティング構成

```
/                       # LP
/login, /signup         # 認証

/dashboard              # ダッシュボード
/vocabulary             # 単語学習
/writing                # ライティング TOP
  /writing/essay        # 英作文
  /writing/email        # Eメール（3級・準2級）
  /writing/summary      # 要約（2級・準1級・1級）
  /writing/history      # 履歴
/reading                # リーディング
/listening              # リスニング
/speaking               # スピーキング
/profile                # プロフィール
/badges                 # バッジ

/admin/*                # 管理画面（管理者のみ）
```

---

## 5. 関連ドキュメント

- `docs/WRITING_DESIGN.md` - ライティング添削の詳細設計
- `docs/ADMIN_DESIGN.md` - 管理画面の設計
- `QUICKSTART.md` - セットアップ手順
- `IMPLEMENTATION_CHECKLIST.md` - 実装チェックリスト
